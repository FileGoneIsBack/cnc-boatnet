<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Name}} | {{.Title}}</title>
    <script src="/_assets/new/imports/loader.js"></script>
    <link rel="stylesheet" href="/_assets/new/css/login.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
</head>
<body>
    <div class="background">
        <div class="cube"></div>
        <div class="cube"></div>
        <div class="cube"></div>
        <div class="cube"></div>
        <div class="cube"></div>
    </div>

    <div class="card">
        <div class="left-side">
            <h1 class="glitch" data-text="{{.Name}}">{{.Name}}</h1>
            <p class="subtitle">Your Security, Our Priority</p>
        </div>
        <div class="right-side">
            <div class="tabs">
                <button class="tab active" data-tab="login">Login</button>
                <button class="tab" data-tab="signup">Sign Up</button>
            </div>

            <form id="loginForm" class="form active" action="/login" method="POST">
                <div class="form-group">
                    <input type="text" id="login-username" name="login-username" tabindex="1" required>
                    <label>Username</label>
                </div>
                <div class="form-group">
                    <input type="password" id="login-password" name="login-password" tabindex="2" required>
                    <label>Password</label>
                </div>
                <div class="remember-me">
                    <input type="checkbox" name="remember-me" id="remember-me">
                    <label for="remember-me">Remember me</label>
                </div>
                <button type="submit" class="submit-btn">Login</button>
            </form>

            <form id="signupForm" class="form" method="post" action="/signup">
                <div class="form-group">
                    <input type="text" id="signup-username" name="signup-username" tabindex="1" required>
                    <label>Username</label>
                </div>
                <div class="form-group">
                    <input type="password" id="signup-password" name="signup-password" tabindex="2" required>
                    <label>Password</label>
                </div>
                <div class="form-group">
                    <input type="password"  id="signup-confirm-password" name="signup-confirm-password" tabindex="3" required>
                    <label>Confirm Password</label>
                </div>
                <div class="form-group">
                    <input type="text" id="signup-auth" name="signup-auth" tabindex="4" required>
                    <label>Auth Token</label>
                </div>
                <div class="captcha">
                    <input type="text" id="signup-captcha" readonly>
                    <input type="text" id="captchaInput" placeholder="Enter CAPTCHA" required>
                    <button type="button" id="refreshCaptcha">â†»</button>
                </div>
                <div class="tos">
                    <input type="checkbox" id="tos" name="tos" tabindex="6" required>
                    <label for="tosCheckbox">I agree to the <button type="button" id="tosButton">Terms of Service</button></label>
                </div>
                <button type="submit" class="submit-btn">Sign Up</button>
            </form>
        </div>
    </div>

    <script src="/_assets/new/js/login3.js"></script>
    <script src="/_assets/new/imports/toastr1.js"></script>
    <script>
        // Wait for the DOM to fully load
        document.addEventListener("DOMContentLoaded", function() {
            // Check if there's an 'error' parameter in the URL
            const urlParams = new URLSearchParams(window.location.search);
            const errorMessage = urlParams.get('error');
        
            if (errorMessage) {
                // Call your custom showToast function to display the error message
                showToast(errorMessage, "error"); // Pass the message and the type
            }
        });
        </script>
</body>
</html>